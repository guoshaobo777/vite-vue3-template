var Hn=Object.defineProperty;var cn=Object.getOwnPropertySymbols;var Nn=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable;var dn=(t,e,o)=>e in t?Hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,O=(t,e)=>{for(var o in e||(e={}))Nn.call(e,o)&&dn(t,o,e[o]);if(cn)for(var o of cn(e))zn.call(e,o)&&dn(t,o,e[o]);return t};import{_ as q,u as K,L as Fe,S as je,r as qn,i as zt}from"./index.a0893edb.js";import{D as $,A as b,j as F,k as w,q as U,y as tt,z as nt,C as he,f as Xe,i as y,Q as ke,L as se,K as M,x as S,l as R,s as C,p as ee,H as Ae,g as re,J as Ie,o as $e,R as Ue,t as le,S as fn,I as ot,w as it,v as st,G as Y,U as at,V as Wn,m as He,F as Ct,r as Ve,n as Ye,T as mn,b as qt,E as jn,h as rt,W as Xn}from"./vendor.6b444bb6.js";import Un from"./parent.a505c417.js";const Yn={name:"layoutLogo",setup(){const{proxy:t}=he(),e=K(),o=$(()=>e.state.themeConfig.themeConfig);return{setShowLogo:$(()=>{let{isCollapse:l,layout:a}=e.state.themeConfig.themeConfig;return!l||a==="classic"||document.body.clientWidth<1e3}),getThemeConfig:o,onThemeConfigChange:()=>{if(e.state.themeConfig.themeConfig.layout==="transverse")return!1;t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse}}}},hn=t=>(tt("data-v-7ed482c1"),t=t(),nt(),t),Gn=hn(()=>w("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-medium-img"},null,-1)),Qn=hn(()=>w("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-size-img"},null,-1)),Kn=[Qn];function Zn(t,e,o,n,s,l){return n.setShowLogo?(b(),F("div",{key:0,class:"layout-logo",onClick:e[0]||(e[0]=(...a)=>n.onThemeConfigChange&&n.onThemeConfigChange(...a))},[Gn,w("span",null,U(n.getThemeConfig.globalTitle),1)])):(b(),F("div",{key:1,class:"layout-logo-size",onClick:e[1]||(e[1]=(...a)=>n.onThemeConfigChange&&n.onThemeConfigChange(...a))},Kn))}var pn=q(Yn,[["render",Zn],["__scopeId","data-v-7ed482c1"]]);const Jn=Xe({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(t){return{chils:$(()=>t.chil)}}}),eo=["href"];function to(t,e,o,n,s,l){const a=y("sub-item",!0),r=y("el-sub-menu"),i=y("el-menu-item");return b(!0),F(se,null,ke(t.chils,u=>(b(),F(se,null,[u.children&&u.children.length>0?(b(),M(r,{index:u.path,key:u.path},{title:S(()=>[w("i",{class:R(u.meta.icon)},null,2),w("span",null,U(u.meta.title),1)]),default:S(()=>[C(a,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(b(),M(i,{index:u.path,key:u.path},{default:S(()=>[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?(b(),F(se,{key:0},[w("i",{class:R(u.meta.icon?u.meta.icon:"")},null,2),w("span",null,U(u.meta.title),1)],64)):(b(),F("a",{key:1,href:u.meta.isLink,target:"_blank",rel:"opener"},[w("i",{class:R(u.meta.icon?u.meta.icon:"")},null,2),ee(" "+U(u.meta.title),1)],8,eo))]),_:2},1032,["index"]))],64))),256)}var gn=q(Jn,[["render",to]]);const no=Xe({name:"navMenuVertical",components:{SubItem:gn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=he(),o=K(),n=Ae(),s=re({defaultActive:n.meta.isDynamic?n.meta.isDynamicPath:n.path,isCollapse:!1}),l=$(()=>t.menuList),a=$(()=>o.state.themeConfig.themeConfig),r=i=>{const{path:u,meta:d}=i,c=d.isDynamic?d.isDynamicPath.split("/"):u.split("/");return c.length>=4&&d.isHide?c.splice(0,3).join("/"):u};return Ie(o.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?s.isCollapse=!1:s.isCollapse=a.value.isCollapse},{immediate:!0}),$e(()=>{s.defaultActive=r(n)}),Ue(i=>{s.defaultActive=r(i),e.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(a.value.isCollapse=!1)}),O({menuLists:l,getThemeConfig:a},le(s))}});function oo(t,e,o,n,s,l){const a=y("SubItem"),r=y("el-sub-menu"),i=y("el-menu-item"),u=y("el-menu");return b(),M(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",collapse:t.isCollapse,"unique-opened":t.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:S(()=>[(b(!0),F(se,null,ke(t.menuLists,d=>(b(),F(se,null,[d.children&&d.children.length>0?(b(),M(r,{index:d.path,key:d.path},{title:S(()=>[w("i",{class:R(d.meta.icon?d.meta.icon:"")},null,2),w("span",null,U(d.meta.title),1)]),default:S(()=>[C(a,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(b(),M(i,{index:d.path,key:d.path},fn({default:S(()=>[w("i",{class:R(d.meta.icon?d.meta.icon:"")},null,2)]),_:2},[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?{name:"title",fn:S(()=>[w("span",null,U(d.meta.title),1)])}:{name:"title",fn:S(()=>[w("a",{href:d.meta.isLink,target:"_blank",rel:"opener"},U(d.meta.title),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var io=q(no,[["render",oo]]);const so={name:"layoutAside",components:{Logo:pn,Vertical:io},setup(){const{proxy:t}=he(),e=K(),o=re({menuList:[],clientWidth:""}),n=$(()=>e.state.themeConfig.themeConfig),s=$(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull),l=$(()=>{const{layout:f,isCollapse:p,menuBar:_}=e.state.themeConfig.themeConfig,E=_==="#FFFFFF"||_==="#FFF"||_==="#fff"||_==="#ffffff"?"layout-el-aside-br-color":"";if(o.clientWidth<=1e3)if(p){document.body.setAttribute("class","el-popup-parent--hidden");const B=document.querySelector(".layout-container"),z=document.createElement("div");return z.setAttribute("class","layout-aside-mobile-mode"),B.appendChild(z),z.addEventListener("click",a),[E,"layout-aside-mobile","layout-aside-mobile-open"]}else return a(),[E,"layout-aside-mobile","layout-aside-mobile-close"];else return f==="columns"?p?[E,"layout-aside-pc-1"]:[E,"layout-aside-pc-220"]:p?[E,"layout-aside-pc-64"]:[E,"layout-aside-pc-220"]}),a=()=>{var _;const f=document.querySelector(".layout-aside-mobile-mode");f&&((_=f.parentNode)==null||_.removeChild(f)),document.body.clientWidth<1e3&&(e.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},r=$(()=>{let{layout:f,isShowLogo:p}=e.state.themeConfig.themeConfig;return p&&f==="defaults"||p&&f==="columns"}),i=()=>{if(e.state.themeConfig.themeConfig.layout==="columns")return!1;o.menuList=u(e.state.routesList.routesList)},u=f=>f.filter(p=>!p.meta.isHide).map(p=>(p=Object.assign({},p),p.children&&(p.children=u(p.children)),p)),d=f=>{o.clientWidth=f},c=f=>{let{layout:p}=e.state.themeConfig.themeConfig;if(p!=="columns")return!1;f||t.mittBus.emit("restoreDefault"),e.dispatch("routesList/setColumnsMenuHover",f)};return Ie(e.state.themeConfig.themeConfig,f=>{if(f.isShowLogoChange!==f.isShowLogo){if(!t.$refs.layoutAsideScrollbarRef)return!1;t.$refs.layoutAsideScrollbarRef.update()}}),Ie(e.state,f=>{let{layout:p,isClassicSplitMenu:_}=f.themeConfig.themeConfig;if(p==="classic"&&_)return!1;i()}),ot(()=>{d(document.body.clientWidth),i(),t.mittBus.on("setSendColumnsChildren",f=>{o.menuList=f.children}),t.mittBus.on("setSendClassicChildren",f=>{let{layout:p,isClassicSplitMenu:_}=e.state.themeConfig.themeConfig;p==="classic"&&_&&(o.menuList=[],o.menuList=f.children)}),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()}),t.mittBus.on("layoutMobileResize",f=>{d(f.clientWidth),a()})}),O({setCollapseStyle:l,setShowLogo:r,getThemeConfig:n,isTagsViewCurrenFull:s,onAsideEnterLeave:c},le(o))}},ao={class:"h100"};function ro(t,e,o,n,s,l){const a=y("Logo"),r=y("Vertical"),i=y("el-scrollbar"),u=y("el-aside");return it((b(),F("div",ao,[C(u,{class:R(["layout-aside",n.setCollapseStyle])},{default:S(()=>[n.setShowLogo?(b(),M(a,{key:0})):Y("",!0),C(i,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:e[0]||(e[0]=d=>n.onAsideEnterLeave(!0)),onMouseleave:e[1]||(e[1]=d=>n.onAsideEnterLeave(!1))},{default:S(()=>[C(r,{menuList:t.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[st,!n.isTagsViewCurrenFull]])}var Wt=q(so,[["render",ro]]);const lo={name:"layoutBreadcrumb",setup(){const{proxy:t}=he(),e=K(),o=Ae(),n=at(),s=re({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),l=$(()=>e.state.themeConfig.themeConfig),a=$(()=>{d(o.path);const{layout:c,isBreadcrumb:f}=e.state.themeConfig.themeConfig;return c==="classic"||c==="transverse"?"none":f?"":"none"}),r=c=>{const{redirect:f,path:p}=c;f?n.push(f):n.push(p)},i=()=>{t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse},u=c=>{c.map(f=>{s.routeSplit.map((p,_,E)=>{s.routeSplitFirst===f.path&&(s.routeSplitFirst+=`/${E[s.routeSplitIndex]}`,s.breadcrumbList.push(f),s.routeSplitIndex++,f.children&&u(f.children))})})},d=c=>{if(!e.state.themeConfig.themeConfig.isBreadcrumb)return!1;s.breadcrumbList=[e.state.routesList.routesList[0]],s.routeSplit=c.split("/"),s.routeSplit.shift(),s.routeSplitFirst=`/${s.routeSplit[0]}`,s.routeSplitIndex=1,u(e.state.routesList.routesList)};return $e(()=>{d(o.path)}),Ue(c=>{d(c.path)}),O({onThemeConfigChange:i,isShowBreadcrumb:a,getThemeConfig:l,onBreadcrumbClick:r},le(s))}},uo={key:0,class:"layout-navbars-breadcrumb-span"},co=["onClick"];function fo(t,e,o,n,s,l){const a=y("el-breadcrumb-item"),r=y("el-breadcrumb");return b(),F("div",{class:"layout-navbars-breadcrumb",style:Ct({display:n.isShowBreadcrumb})},[w("i",{class:R(["layout-navbars-breadcrumb-icon",n.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:e[0]||(e[0]=(...i)=>n.onThemeConfigChange&&n.onThemeConfigChange(...i))},null,2),C(r,{class:"layout-navbars-breadcrumb-hide"},{default:S(()=>[C(Wn,{name:"breadcrumb",mode:"out-in"},{default:S(()=>[(b(!0),F(se,null,ke(t.breadcrumbList,(i,u)=>(b(),M(a,{key:i.meta.title},{default:S(()=>[u===t.breadcrumbList.length-1?(b(),F("span",uo,[n.getThemeConfig.isBreadcrumbIcon?(b(),F("i",{key:0,class:R([i.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):Y("",!0),ee(U(i.meta.title),1)])):(b(),F("a",{key:1,onClick:He(d=>n.onBreadcrumbClick(i),["prevent"])},[n.getThemeConfig.isBreadcrumbIcon?(b(),F("i",{key:0,class:R([i.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):Y("",!0),ee(U(i.meta.title),1)],8,co))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var mo=q(lo,[["render",fo],["__scopeId","data-v-b525eaa6"]]),_n={exports:{}};/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(t){(function(){var e=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},o=t.exports,n=function(){for(var a,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,u=r.length,d={};i<u;i++)if(a=r[i],a&&a[1]in e){for(i=0;i<a.length;i++)d[r[0][i]]=a[i];return d}return!1}(),s={change:n.fullscreenchange,error:n.fullscreenerror},l={request:function(a,r){return new Promise(function(i,u){var d=function(){this.off("change",d),i()}.bind(this);this.on("change",d),a=a||e.documentElement;var c=a[n.requestFullscreen](r);c instanceof Promise&&c.then(d).catch(u)}.bind(this))},exit:function(){return new Promise(function(a,r){if(!this.isFullscreen){a();return}var i=function(){this.off("change",i),a()}.bind(this);this.on("change",i);var u=e[n.exitFullscreen]();u instanceof Promise&&u.then(i).catch(r)}.bind(this))},toggle:function(a,r){return this.isFullscreen?this.exit():this.request(a,r)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(a,r){var i=s[a];i&&e.addEventListener(i,r,!1)},off:function(a,r){var i=s[a];i&&e.removeEventListener(i,r,!1)},raw:n};if(!n){o?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),o?t.exports=l:window.screenfull=l})()})(_n);var St=_n.exports;const ho={name:"layoutBreadcrumbUserNews",setup(){const t=re({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"vue-next-admin\uFF0C\u57FA\u4E8E vue3 + CompositionAPI + typescript + vite + element plus\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2021\u5E7402\u670828\u65E5\uFF01",time:"2020-12-08"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"QQ\u7FA4\u53F7\u7801 665452019\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2020-12-08"}]});return O({onAllReadClick:()=>{t.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/lyt-top/vue-next-admin")}},le(t))}},po=t=>(tt("data-v-4fc1f4b5"),t=t(),nt(),t),go={class:"layout-navbars-breadcrumb-user-news"},_o={class:"head-box"},bo=po(()=>w("div",{class:"head-box-title"},"\u901A\u77E5",-1)),yo={class:"content-box"},vo={class:"content-box-msg"},wo={class:"content-box-time"};function Co(t,e,o,n,s,l){const a=y("el-empty");return b(),F("div",go,[w("div",_o,[bo,t.newsList.length>0?(b(),F("div",{key:0,class:"head-box-btn",onClick:e[0]||(e[0]=(...r)=>n.onAllReadClick&&n.onAllReadClick(...r))},"\u5168\u90E8\u5DF2\u8BFB")):Y("",!0)]),w("div",yo,[t.newsList.length>0?(b(!0),F(se,{key:0},ke(t.newsList,(r,i)=>(b(),F("div",{class:"content-box-item",key:i},[w("div",null,U(r.label),1),w("div",vo,U(r.value),1),w("div",wo,U(r.time),1)]))),128)):(b(),M(a,{key:1,description:"\u6682\u65E0\u901A\u77E5"}))]),t.newsList.length>0?(b(),F("div",{key:0,class:"foot-box",onClick:e[1]||(e[1]=(...r)=>n.onGoToGiteeClick&&n.onGoToGiteeClick(...r))},"\u524D\u5F80\u901A\u77E5\u4E2D\u5FC3")):Y("",!0)])}var So=q(ho,[["render",Co],["__scopeId","data-v-4fc1f4b5"]]);const Eo=Xe({name:"layoutBreadcrumbSearch",setup(){const t=Ve(),e=K(),o=at(),n=re({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),s=()=>{n.menuQuery="",n.isShowSearch=!0,i(),Ye(()=>{t.value.focus()})},l=()=>{n.isShowSearch=!1},a=(c,f)=>{let p=c?n.tagsViewList.filter(r(c)):n.tagsViewList;f(p)},r=c=>f=>f.path.toLowerCase().indexOf(c.toLowerCase())>-1||f.meta.title.toLowerCase().indexOf(c.toLowerCase())>-1,i=()=>{if(n.tagsViewList.length>0)return!1;e.state.tagsViewRoutes.tagsViewRoutes.map(c=>{c.meta.isHide||n.tagsViewList.push(O({},c))})};return O({layoutMenuAutocompleteRef:t,openSearch:s,closeSearch:l,menuSearch:a,onHandleSelect:c=>{let{path:f,redirect:p}=c;c.meta.isLink&&!c.meta.isIframe?window.open(c.meta.isLink):p?o.push(p):o.push(f),l()},onSearchBlur:()=>{l()}},le(n))}}),Do={class:"layout-search-dialog"};function xo(t,e,o,n,s,l){const a=y("el-autocomplete"),r=y("el-dialog");return b(),F("div",Do,[C(r,{modelValue:t.isShowSearch,"onUpdate:modelValue":e[1]||(e[1]=i=>t.isShowSearch=i),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:S(()=>[C(a,{modelValue:t.menuQuery,"onUpdate:modelValue":e[0]||(e[0]=i=>t.menuQuery=i),"fetch-suggestions":t.menuSearch,placeholder:"\u83DC\u5355\u641C\u7D22\uFF1A\u652F\u6301\u4E2D\u6587\u3001\u8DEF\u7531\u8DEF\u5F84","prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:t.onHandleSelect,onBlur:t.onSearchBlur},{default:S(({item:i})=>[w("div",null,[w("i",{class:R([i.meta.icon,"mr10"])},null,2),ee(U(i.meta.title),1)])]),_:1},8,["modelValue","fetch-suggestions","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var To=q(Eo,[["render",xo],["__scopeId","data-v-7a92753e"]]);const Lo={name:"layoutBreadcrumbUser",components:{UserNews:So,Search:To},setup(){const{proxy:t}=he(),e=at(),o=K(),n=Ve(),s=re({isScreenfull:!1,isShowUserNewsPopover:!1,disabledSize:""}),l=$(()=>o.state.userInfos.userInfos),a=$(()=>o.state.themeConfig.themeConfig),r=$(()=>{let{layout:_,isClassicSplitMenu:E}=a.value,B="";return _==="defaults"||_==="classic"&&!E||_==="columns"?B=1:B=null,B}),i=()=>{if(!St.isEnabled)return qt.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;St.toggle(),St.on("change",()=>{St.isFullscreen?s.isScreenfull=!0:s.isScreenfull=!1})},u=()=>{t.mittBus.emit("openSetingsDrawer")},d=_=>{_==="logOut"?jn({closeOnClickModal:!1,closeOnPressEscape:!1,title:"\u63D0\u793A",message:"\u6B64\u64CD\u4F5C\u5C06\u9000\u51FA\u767B\u5F55, \u662F\u5426\u7EE7\u7EED?",showCancelButton:!0,confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",beforeClose:(E,B,z)=>{E==="confirm"?(B.confirmButtonLoading=!0,B.confirmButtonText="\u9000\u51FA\u4E2D",setTimeout(()=>{z(),setTimeout(()=>{B.confirmButtonLoading=!1},300)},700)):z()}}).then(()=>{je.clear(),qn(),e.push("/login"),setTimeout(()=>{qt.success("\u5B89\u5168\u9000\u51FA\u6210\u529F\uFF01")},300)}).catch(()=>{}):_==="wareHouse"?window.open("https://gitee.com/lyt-top/vue-next-admin"):e.push(_)},c=()=>{n.value.openSearch()},f=_=>{Fe.remove("themeConfig"),a.value.globalComponentSize=_,Fe.set("themeConfig",a.value),t.$ELEMENT.size=_,p(),window.location.reload()},p=()=>{switch(Fe.get("themeConfig").globalComponentSize){case"":s.disabledSize="";break;case"medium":s.disabledSize="medium";break;case"small":s.disabledSize="small";break;case"mini":s.disabledSize="mini";break}};return $e(()=>{Fe.get("themeConfig")&&p()}),O({getUserInfos:l,onLayoutSetingClick:u,onHandleCommandClick:d,onScreenfullClick:i,onSearchClick:c,onComponentSizeChange:f,searchRef:n,layoutUserFlexNum:r},le(s))}},lt=t=>(tt("data-v-3249f198"),t=t(),nt(),t),Fo=lt(()=>w("div",{class:"layout-navbars-breadcrumb-user-icon"},[w("i",{class:"iconfont icon-ziti",title:"\u7EC4\u4EF6\u5927\u5C0F"})],-1)),ko=ee("\u9ED8\u8BA4"),Ao=ee("\u4E2D\u7B49"),Io=ee("\u5C0F\u578B"),$o=ee("\u8D85\u5C0F"),Vo=lt(()=>w("i",{class:"el-icon-search",title:"\u83DC\u5355\u641C\u7D22"},null,-1)),Mo=[Vo],Ro=lt(()=>w("i",{class:"icon-skin iconfont",title:"\u5E03\u5C40\u914D\u7F6E"},null,-1)),Oo=[Ro],Bo={class:"layout-navbars-breadcrumb-user-icon"},Po=lt(()=>w("i",{class:"el-icon-bell",title:"\u6D88\u606F"},null,-1)),Ho=["title"],No={class:"layout-navbars-breadcrumb-user-link"},zo=["src"],qo=lt(()=>w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)),Wo=ee("\u9996\u9875"),jo=ee("\u4EE3\u7801\u4ED3\u5E93"),Xo=ee("404"),Uo=ee("401"),Yo=ee("\u9000\u51FA\u767B\u5F55");function Go(t,e,o,n,s,l){const a=y("el-dropdown-item"),r=y("el-dropdown-menu"),i=y("el-dropdown"),u=y("el-badge"),d=y("UserNews"),c=y("el-popover"),f=y("Search");return b(),F("div",{class:"layout-navbars-breadcrumb-user",style:Ct({flex:n.layoutUserFlexNum})},[C(i,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:n.onComponentSizeChange},{dropdown:S(()=>[C(r,null,{default:S(()=>[C(a,{command:"",disabled:t.disabledSize===""},{default:S(()=>[ko]),_:1},8,["disabled"]),C(a,{command:"medium",disabled:t.disabledSize==="medium"},{default:S(()=>[Ao]),_:1},8,["disabled"]),C(a,{command:"small",disabled:t.disabledSize==="small"},{default:S(()=>[Io]),_:1},8,["disabled"]),C(a,{command:"mini",disabled:t.disabledSize==="mini"},{default:S(()=>[$o]),_:1},8,["disabled"])]),_:1})]),default:S(()=>[Fo]),_:1},8,["onCommand"]),w("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[0]||(e[0]=(...p)=>n.onSearchClick&&n.onSearchClick(...p))},Mo),w("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[1]||(e[1]=(...p)=>n.onLayoutSetingClick&&n.onLayoutSetingClick(...p))},Oo),w("div",Bo,[C(c,{placement:"bottom",trigger:"click",visible:t.isShowUserNewsPopover,"onUpdate:visible":e[3]||(e[3]=p=>t.isShowUserNewsPopover=p),width:300,"popper-class":"el-popover-pupop-user-news"},{reference:S(()=>[C(u,{"is-dot":!0,onClick:e[2]||(e[2]=p=>t.isShowUserNewsPopover=!t.isShowUserNewsPopover)},{default:S(()=>[Po]),_:1})]),default:S(()=>[C(mn,{name:"el-zoom-in-top"},{default:S(()=>[it(C(d,null,null,512),[[st,t.isShowUserNewsPopover]])]),_:1})]),_:1},8,["visible"])]),w("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:e[4]||(e[4]=(...p)=>n.onScreenfullClick&&n.onScreenfullClick(...p))},[w("i",{class:R(["iconfont",t.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:t.isScreenfull?"\u5F00\u5168\u5C4F":"\u5173\u5168\u5C4F"},null,10,Ho)]),C(i,{"show-timeout":70,"hide-timeout":50,onCommand:n.onHandleCommandClick},{dropdown:S(()=>[C(r,null,{default:S(()=>[C(a,{command:"/home"},{default:S(()=>[Wo]),_:1}),C(a,{command:"wareHouse"},{default:S(()=>[jo]),_:1}),C(a,{command:"/404"},{default:S(()=>[Xo]),_:1}),C(a,{command:"/401"},{default:S(()=>[Uo]),_:1}),C(a,{divided:"",command:"logOut"},{default:S(()=>[Yo]),_:1})]),_:1})]),default:S(()=>[w("span",No,[w("img",{src:n.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,zo),ee(" "+U(n.getUserInfos.userName===""?"test":n.getUserInfos.userName)+" ",1),qo])]),_:1},8,["onCommand"]),C(f,{ref:"searchRef"},null,512)],4)}var Qo=q(Lo,[["render",Go],["__scopeId","data-v-3249f198"]]);const Ko=Xe({name:"navMenuHorizontal",components:{SubItem:gn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=he(),o=Ae(),n=K(),s=re({defaultActive:null}),l=$(()=>t.menuList),a=c=>{const f=c.wheelDelta||-c.deltaY*40;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+f/4},r=()=>{Ye(()=>{let c=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!c)return!1;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=c.offsetLeft})},i=c=>c.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=i(f.children)),f)),u=c=>{const f=c.split("/");let p={};return i(n.state.routesList.routesList).map((_,E)=>{_.path===`/${f[1]}`&&(_.k=E,p.item=[O({},_)],p.children=[O({},_)],_.children&&(p.children=_.children))}),p},d=c=>{const{path:f,meta:p}=c;if(n.state.themeConfig.themeConfig.layout==="classic")s.defaultActive=`/${f.split("/")[1]}`;else{const _=p.isDynamic?p.isDynamicPath.split("/"):f.split("/");_.length>=4&&p.isHide?s.defaultActive=_.splice(0,3).join("/"):s.defaultActive=f}};return ot(()=>{d(o)}),$e(()=>{r()}),Ue(c=>{d(c),e.mittBus.emit("onMenuClick");let{layout:f,isClassicSplitMenu:p}=n.state.themeConfig.themeConfig;f==="classic"&&p&&e.mittBus.emit("setSendClassicChildren",u(c.path))}),O({menuLists:l,onElMenuHorizontalScroll:a},le(s))}}),Zo={class:"el-menu-horizontal-warp"};function Jo(t,e,o,n,s,l){const a=y("SubItem"),r=y("el-sub-menu"),i=y("el-menu-item"),u=y("el-menu"),d=y("el-scrollbar");return b(),F("div",Zo,[C(d,{onWheel:He(t.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:S(()=>[C(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:S(()=>[(b(!0),F(se,null,ke(t.menuLists,c=>(b(),F(se,null,[c.children&&c.children.length>0?(b(),M(r,{index:c.path,key:c.path},{title:S(()=>[w("i",{class:R(c.meta.icon?c.meta.icon:"")},null,2),w("span",null,U(c.meta.title),1)]),default:S(()=>[C(a,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(b(),M(i,{index:c.path,key:c.path},fn({_:2},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?{name:"title",fn:S(()=>[w("i",{class:R(c.meta.icon?c.meta.icon:"")},null,2),ee(" "+U(c.meta.title),1)])}:{name:"title",fn:S(()=>[w("a",{href:c.meta.isLink,target:"_blank",rel:"opener"},[w("i",{class:R(c.meta.icon?c.meta.icon:"")},null,2),ee(" "+U(c.meta.title),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var ei=q(Ko,[["render",Jo],["__scopeId","data-v-577ae00c"]]);const ti={name:"layoutBreadcrumbIndex",components:{Breadcrumb:mo,User:Qo,Logo:pn,Horizontal:ei},setup(){const{proxy:t}=he(),e=K(),o=Ae(),n=re({menuList:[]}),s=$(()=>e.state.themeConfig.themeConfig),l=$(()=>{let{isShowLogo:c,layout:f}=e.state.themeConfig.themeConfig;return c&&f==="classic"||c&&f==="transverse"}),a=$(()=>{let{layout:c,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;return c==="transverse"||f&&c==="classic"}),r=()=>{let{layout:c,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;if(c==="classic"&&f){n.menuList=i(u(e.state.routesList.routesList));const p=d(o.path);t.mittBus.emit("setSendClassicChildren",p)}else n.menuList=u(e.state.routesList.routesList)},i=c=>(c.map(f=>{f.children&&delete f.children}),c),u=c=>c.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=u(f.children)),f)),d=c=>{const f=c.split("/");let p={};return u(e.state.routesList.routesList).map((_,E)=>{_.path===`/${f[1]}`&&(_.k=E,p.item=[O({},_)],p.children=[O({},_)],_.children&&(p.children=_.children))}),p};return $e(()=>{r(),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{r()})}),rt(()=>{t.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),O({getThemeConfig:s,setIsShowLogo:l,isLayoutTransverse:a},le(n))}},ni={class:"layout-navbars-breadcrumb-index"};function oi(t,e,o,n,s,l){const a=y("Logo"),r=y("Breadcrumb"),i=y("Horizontal"),u=y("User");return b(),F("div",ni,[n.setIsShowLogo?(b(),M(a,{key:0})):Y("",!0),C(r),n.isLayoutTransverse?(b(),M(i,{key:1,menuList:t.menuList},null,8,["menuList"])):Y("",!0),C(u)])}var ii=q(ti,[["render",oi],["__scopeId","data-v-4596ab6e"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function bn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function ye(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?bn(Object(o),!0).forEach(function(n){si(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):bn(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Et(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Et=function(e){return typeof e}:Et=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(t)}function si(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Se(){return Se=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Se.apply(this,arguments)}function ai(t,e){if(t==null)return{};var o={},n=Object.keys(t),s,l;for(l=0;l<n.length;l++)s=n[l],!(e.indexOf(s)>=0)&&(o[s]=t[s]);return o}function ri(t,e){if(t==null)return{};var o=ai(t,e),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(o[n]=t[n]))}return o}var li="1.14.0";function Ee(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var De=Ee(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ut=Ee(/Edge/i),yn=Ee(/firefox/i),ct=Ee(/safari/i)&&!Ee(/chrome/i)&&!Ee(/android/i),vn=Ee(/iP(ad|od|hone)/i),ui=Ee(/chrome/i)&&Ee(/android/i),wn={capture:!1,passive:!1};function V(t,e,o){t.addEventListener(e,o,!De&&wn)}function I(t,e,o){t.removeEventListener(e,o,!De&&wn)}function Dt(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ci(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ve(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Dt(t,e):Dt(t,e))||n&&t===o)return t;if(t===o)break}while(t=ci(t))}return null}var Cn=/\s+/g;function ue(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Cn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(Cn," ")}}function x(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ge(t,e){var o="";if(typeof t=="string")o=t;else do{var n=x(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(o)}function Sn(t,e,o){if(t){var n=t.getElementsByTagName(e),s=0,l=n.length;if(o)for(;s<l;s++)o(n[s],s);return n}return[]}function we(){var t=document.scrollingElement;return t||document.documentElement}function Q(t,e,o,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var l,a,r,i,u,d,c;if(t!==window&&t.parentNode&&t!==we()?(l=t.getBoundingClientRect(),a=l.top,r=l.left,i=l.bottom,u=l.right,d=l.height,c=l.width):(a=0,r=0,i=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(e||o)&&t!==window&&(s=s||t.parentNode,!De))do if(s&&s.getBoundingClientRect&&(x(s,"transform")!=="none"||o&&x(s,"position")!=="static")){var f=s.getBoundingClientRect();a-=f.top+parseInt(x(s,"border-top-width")),r-=f.left+parseInt(x(s,"border-left-width")),i=a+l.height,u=r+l.width;break}while(s=s.parentNode);if(n&&t!==window){var p=Ge(s||t),_=p&&p.a,E=p&&p.d;p&&(a/=E,r/=_,c/=_,d/=E,i=a+d,u=r+c)}return{top:a,left:r,bottom:i,right:u,width:c,height:d}}}function En(t,e,o){for(var n=Me(t,!0),s=Q(t)[e];n;){var l=Q(n)[o],a=void 0;if(o==="top"||o==="left"?a=s>=l:a=s<=l,!a)return n;if(n===we())break;n=Me(n,!1)}return!1}function Qe(t,e,o,n){for(var s=0,l=0,a=t.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==T.ghost&&(n||a[l]!==T.dragged)&&ve(a[l],o.draggable,t,!1)){if(s===e)return a[l];s++}l++}return null}function jt(t,e){for(var o=t.lastElementChild;o&&(o===T.ghost||x(o,"display")==="none"||e&&!Dt(o,e));)o=o.previousElementSibling;return o||null}function pe(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==T.clone&&(!e||Dt(t,e))&&o++;return o}function Dn(t){var e=0,o=0,n=we();if(t)do{var s=Ge(t),l=s.a,a=s.d;e+=t.scrollLeft*l,o+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,o]}function di(t,e){for(var o in t)if(!!t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Me(t,e){if(!t||!t.getBoundingClientRect)return we();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var s=x(o);if(o.clientWidth<o.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return we();if(n||e)return o;n=!0}}while(o=o.parentNode);return we()}function fi(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function Xt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var dt;function xn(t,e){return function(){if(!dt){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),dt=setTimeout(function(){dt=void 0},e)}}}function mi(){clearTimeout(dt),dt=void 0}function Tn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function Ln(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var ce="Sortable"+new Date().getTime();function hi(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(x(s,"display")==="none"||s===T.ghost)){t.push({target:s,rect:Q(s)});var l=ye({},t[t.length-1].rect);if(s.thisAnimationDuration){var a=Ge(s,!0);a&&(l.top-=a.f,l.left-=a.e)}s.fromRect=l}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(di(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,a=0;t.forEach(function(r){var i=0,u=r.target,d=u.fromRect,c=Q(u),f=u.prevFromRect,p=u.prevToRect,_=r.rect,E=Ge(u,!0);E&&(c.top-=E.f,c.left-=E.e),u.toRect=c,u.thisAnimationDuration&&Xt(f,c)&&!Xt(d,c)&&(_.top-c.top)/(_.left-c.left)==(d.top-c.top)/(d.left-c.left)&&(i=gi(_,f,p,s.options)),Xt(c,d)||(u.prevFromRect=d,u.prevToRect=c,i||(i=s.options.animation),s.animate(u,_,c,i)),i&&(l=!0,a=Math.max(a,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,s,l,a){if(a){x(n,"transition",""),x(n,"transform","");var r=Ge(this.el),i=r&&r.a,u=r&&r.d,d=(s.left-l.left)/(i||1),c=(s.top-l.top)/(u||1);n.animatingX=!!d,n.animatingY=!!c,x(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=pi(n),x(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),x(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){x(n,"transition",""),x(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function pi(t){return t.offsetWidth}function gi(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Ke=[],Ut={initializeByDefault:!0},ft={mount:function(e){for(var o in Ut)Ut.hasOwnProperty(o)&&!(o in e)&&(e[o]=Ut[o]);Ke.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ke.push(e)},pluginEvent:function(e,o,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var l=e+"Global";Ke.forEach(function(a){!o[a.pluginName]||(o[a.pluginName][l]&&o[a.pluginName][l](ye({sortable:o},n)),o.options[a.pluginName]&&o[a.pluginName][e]&&o[a.pluginName][e](ye({sortable:o},n)))})},initializePlugins:function(e,o,n,s){Ke.forEach(function(r){var i=r.pluginName;if(!(!e.options[i]&&!r.initializeByDefault)){var u=new r(e,o,e.options);u.sortable=e,u.options=e.options,e[i]=u,Se(n,u.defaults)}});for(var l in e.options)if(!!e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);typeof a!="undefined"&&(e.options[l]=a)}},getEventProperties:function(e,o){var n={};return Ke.forEach(function(s){typeof s.eventProperties=="function"&&Se(n,s.eventProperties.call(o[s.pluginName],e))}),n},modifyOption:function(e,o,n){var s;return Ke.forEach(function(l){!e[l.pluginName]||l.optionListeners&&typeof l.optionListeners[o]=="function"&&(s=l.optionListeners[o].call(e[l.pluginName],n))}),s}};function _i(t){var e=t.sortable,o=t.rootEl,n=t.name,s=t.targetEl,l=t.cloneEl,a=t.toEl,r=t.fromEl,i=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,c=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,_=t.extraEventProperties;if(e=e||o&&o[ce],!!e){var E,B=e.options,z="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!De&&!ut?E=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(n,!0,!0)),E.to=a||o,E.from=r||o,E.item=s||o,E.clone=l,E.oldIndex=i,E.newIndex=u,E.oldDraggableIndex=d,E.newDraggableIndex=c,E.originalEvent=f,E.pullMode=p?p.lastPutMode:void 0;var L=ye(ye({},_),ft.getEventProperties(n,e));for(var A in L)E[A]=L[A];o&&o.dispatchEvent(E),B[z]&&B[z].call(e,E)}}var bi=["evt"],ae=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,l=ri(n,bi);ft.pluginEvent.bind(T)(e,o,ye({dragEl:g,parentEl:W,ghostEl:k,rootEl:H,nextEl:Ne,lastDownEl:xt,cloneEl:j,cloneHidden:Re,dragStarted:ht,putSortable:Z,activeSortable:T.active,originalEvent:s,oldIndex:Ze,oldDraggableIndex:mt,newIndex:de,newDraggableIndex:Oe,hideGhostForTarget:Mn,unhideGhostForTarget:Rn,cloneNowHidden:function(){Re=!0},cloneNowShown:function(){Re=!1},dispatchSortableEvent:function(r){oe({sortable:o,name:r,originalEvent:s})}},l))};function oe(t){_i(ye({putSortable:Z,cloneEl:j,targetEl:g,rootEl:H,oldIndex:Ze,oldDraggableIndex:mt,newIndex:de,newDraggableIndex:Oe},t))}var g,W,k,H,Ne,xt,j,Re,Ze,de,mt,Oe,Tt,Z,Je=!1,Lt=!1,Ft=[],ze,_e,Yt,Gt,Fn,kn,ht,et,pt,gt=!1,kt=!1,At,te,Qt=[],Kt=!1,It=[],$t=typeof document!="undefined",Vt=vn,An=ut||De?"cssFloat":"float",yi=$t&&!ui&&!vn&&"draggable"in document.createElement("div"),In=function(){if(!!$t){if(De)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),$n=function(e,o){var n=x(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Qe(e,0,o),a=Qe(e,1,o),r=l&&x(l),i=a&&x(a),u=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Q(l).width,d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Q(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var c=r.float==="left"?"left":"right";return a&&(i.clear==="both"||i.clear===c)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||u>=s&&n[An]==="none"||a&&n[An]==="none"&&u+d>s)?"vertical":"horizontal"},vi=function(e,o,n){var s=n?e.left:e.top,l=n?e.right:e.bottom,a=n?e.width:e.height,r=n?o.left:o.top,i=n?o.right:o.bottom,u=n?o.width:o.height;return s===r||l===i||s+a/2===r+u/2},wi=function(e,o){var n;return Ft.some(function(s){var l=s[ce].options.emptyInsertThreshold;if(!(!l||jt(s))){var a=Q(s),r=e>=a.left-l&&e<=a.right+l,i=o>=a.top-l&&o<=a.bottom+l;if(r&&i)return n=s}}),n},Vn=function(e){function o(l,a){return function(r,i,u,d){var c=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(l==null&&(a||c))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return o(l(r,i,u,d),a)(r,i,u,d);var f=(a?r:i).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var n={},s=e.group;(!s||Et(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=o(s.pull,!0),n.checkPut=o(s.put),n.revertClone=s.revertClone,e.group=n},Mn=function(){!In&&k&&x(k,"display","none")},Rn=function(){!In&&k&&x(k,"display","")};$t&&document.addEventListener("click",function(t){if(Lt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Lt=!1,!1},!0);var qe=function(e){if(g){e=e.touches?e.touches[0]:e;var o=wi(e.clientX,e.clientY);if(o){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[ce]._onDragOver(n)}}},Ci=function(e){g&&g.parentNode[ce]._isOutsideThisEl(e.target)};function T(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Se({},e),t[ce]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $n(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,r){a.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:T.supportPointer!==!1&&"PointerEvent"in window&&!ct,emptyInsertThreshold:5};ft.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Vn(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:yi,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?V(t,"pointerdown",this._onTapStart):(V(t,"mousedown",this._onTapStart),V(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(V(t,"dragover",this),V(t,"dragenter",this)),Ft.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Se(this,hi())}T.prototype={constructor:T,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(et=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,g):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var o=this,n=this.el,s=this.options,l=s.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,i=(r||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,d=s.filter;if(ki(n),!g&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||s.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ct&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=ve(i,s.draggable,n,!1),!(i&&i.animated)&&xt!==i)){if(Ze=pe(i),mt=pe(i,s.draggable),typeof d=="function"){if(d.call(this,e,i,this)){oe({sortable:o,rootEl:u,name:"filter",targetEl:i,toEl:n,fromEl:n}),ae("filter",o,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=ve(u,c.trim(),n,!1),c)return oe({sortable:o,rootEl:c,name:"filter",targetEl:i,fromEl:n,toEl:n}),ae("filter",o,{evt:e}),!0}),d)){l&&e.cancelable&&e.preventDefault();return}s.handle&&!ve(u,s.handle,n,!1)||this._prepareDragStart(e,r,i)}}},_prepareDragStart:function(e,o,n){var s=this,l=s.el,a=s.options,r=l.ownerDocument,i;if(n&&!g&&n.parentNode===l){var u=Q(n);if(H=l,g=n,W=g.parentNode,Ne=g.nextSibling,xt=n,Tt=a.group,T.dragged=g,ze={target:g,clientX:(o||e).clientX,clientY:(o||e).clientY},Fn=ze.clientX-u.left,kn=ze.clientY-u.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,g.style["will-change"]="all",i=function(){if(ae("delayEnded",s,{evt:e}),T.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!yn&&s.nativeDraggable&&(g.draggable=!0),s._triggerDragStart(e,o),oe({sortable:s,name:"choose",originalEvent:e}),ue(g,a.chosenClass,!0)},a.ignore.split(",").forEach(function(d){Sn(g,d.trim(),Zt)}),V(r,"dragover",qe),V(r,"mousemove",qe),V(r,"touchmove",qe),V(r,"mouseup",s._onDrop),V(r,"touchend",s._onDrop),V(r,"touchcancel",s._onDrop),yn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),ae("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(ut||De))){if(T.eventCanceled){this._onDrop();return}V(r,"mouseup",s._disableDelayedDrag),V(r,"touchend",s._disableDelayedDrag),V(r,"touchcancel",s._disableDelayedDrag),V(r,"mousemove",s._delayedDragTouchMoveHandler),V(r,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&V(r,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(i,a.delay)}else i()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&Zt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?V(document,"pointermove",this._onTouchMove):o?V(document,"touchmove",this._onTouchMove):V(document,"mousemove",this._onTouchMove):(V(g,"dragend",this),V(H,"dragstart",this._onDragStart));try{document.selection?Rt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Je=!1,H&&g){ae("dragStarted",this,{evt:o}),this.nativeDraggable&&V(document,"dragover",Ci);var n=this.options;!e&&ue(g,n.dragClass,!1),ue(g,n.ghostClass,!0),T.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Mn();for(var e=document.elementFromPoint(_e.clientX,_e.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),e!==o);)o=e;if(g.parentNode[ce]._isOutsideThisEl(e),o)do{if(o[ce]){var n=void 0;if(n=o[ce]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);Rn()}},_onTouchMove:function(e){if(ze){var o=this.options,n=o.fallbackTolerance,s=o.fallbackOffset,l=e.touches?e.touches[0]:e,a=k&&Ge(k,!0),r=k&&a&&a.a,i=k&&a&&a.d,u=Vt&&te&&Dn(te),d=(l.clientX-ze.clientX+s.x)/(r||1)+(u?u[0]-Qt[0]:0)/(r||1),c=(l.clientY-ze.clientY+s.y)/(i||1)+(u?u[1]-Qt[1]:0)/(i||1);if(!T.active&&!Je){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(k){a?(a.e+=d-(Yt||0),a.f+=c-(Gt||0)):a={a:1,b:0,c:0,d:1,e:d,f:c};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");x(k,"webkitTransform",f),x(k,"mozTransform",f),x(k,"msTransform",f),x(k,"transform",f),Yt=d,Gt=c,_e=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!k){var e=this.options.fallbackOnBody?document.body:H,o=Q(g,!0,Vt,!0,e),n=this.options;if(Vt){for(te=e;x(te,"position")==="static"&&x(te,"transform")==="none"&&te!==document;)te=te.parentNode;te!==document.body&&te!==document.documentElement?(te===document&&(te=we()),o.top+=te.scrollTop,o.left+=te.scrollLeft):te=we(),Qt=Dn(te)}k=g.cloneNode(!0),ue(k,n.ghostClass,!1),ue(k,n.fallbackClass,!0),ue(k,n.dragClass,!0),x(k,"transition",""),x(k,"transform",""),x(k,"box-sizing","border-box"),x(k,"margin",0),x(k,"top",o.top),x(k,"left",o.left),x(k,"width",o.width),x(k,"height",o.height),x(k,"opacity","0.8"),x(k,"position",Vt?"absolute":"fixed"),x(k,"zIndex","100000"),x(k,"pointerEvents","none"),T.ghost=k,e.appendChild(k),x(k,"transform-origin",Fn/parseInt(k.style.width)*100+"% "+kn/parseInt(k.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,s=e.dataTransfer,l=n.options;if(ae("dragStart",this,{evt:e}),T.eventCanceled){this._onDrop();return}ae("setupClone",this),T.eventCanceled||(j=Ln(g),j.draggable=!1,j.style["will-change"]="",this._hideClone(),ue(j,this.options.chosenClass,!1),T.clone=j),n.cloneId=Rt(function(){ae("clone",n),!T.eventCanceled&&(n.options.removeCloneOnHide||H.insertBefore(j,g),n._hideClone(),oe({sortable:n,name:"clone"}))}),!o&&ue(g,l.dragClass,!0),o?(Lt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(I(document,"mouseup",n._onDrop),I(document,"touchend",n._onDrop),I(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(n,s,g)),V(document,"drop",n),x(g,"transform","translateZ(0)")),Je=!0,n._dragStartId=Rt(n._dragStarted.bind(n,o,e)),V(document,"selectstart",n),ht=!0,ct&&x(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,s,l,a,r=this.options,i=r.group,u=T.active,d=Tt===i,c=r.sort,f=Z||u,p,_=this,E=!1;if(Kt)return;function B(h,m){ae(h,_,ye({evt:e,isOwner:d,axis:p?"vertical":"horizontal",revert:a,dragRect:s,targetRect:l,canSort:c,fromSortable:f,target:n,completed:L,onMove:function(v,N){return Mt(H,o,g,s,v,Q(v),e,N)},changed:A},m))}function z(){B("dragOverAnimationCapture"),_.captureAnimationState(),_!==f&&f.captureAnimationState()}function L(h){return B("dragOverCompleted",{insertion:h}),h&&(d?u._hideClone():u._showClone(_),_!==f&&(ue(g,Z?Z.options.ghostClass:u.options.ghostClass,!1),ue(g,r.ghostClass,!0)),Z!==_&&_!==T.active?Z=_:_===T.active&&Z&&(Z=null),f===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){B("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===o&&!n.animated)&&(et=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(g.parentNode[ce]._isOutsideThisEl(e.target),!h&&qe(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function A(){de=pe(g),Oe=pe(g,r.draggable),oe({sortable:_,name:"change",toEl:o,newIndex:de,newDraggableIndex:Oe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ve(n,r.draggable,o,!0),B("dragOver"),T.eventCanceled)return E;if(g.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return L(!1);if(Lt=!1,u&&!r.disabled&&(d?c||(a=W!==H):Z===this||(this.lastPutMode=Tt.checkPull(this,u,g,e))&&i.checkPut(this,u,g,e))){if(p=this._getDirection(e,n)==="vertical",s=Q(g),B("dragOverValid"),T.eventCanceled)return E;if(a)return W=H,z(),this._hideClone(),B("revert"),T.eventCanceled||(Ne?H.insertBefore(g,Ne):H.appendChild(g)),L(!0);var P=jt(o,r.draggable);if(!P||xi(e,p,this)&&!P.animated){if(P===g)return L(!1);if(P&&o===e.target&&(n=P),n&&(l=Q(n)),Mt(H,o,g,s,n,l,e,!!n)!==!1)return z(),o.appendChild(g),W=o,A(),L(!0)}else if(P&&Di(e,p,this)){var X=Qe(o,0,r,!0);if(X===g)return L(!1);if(n=X,l=Q(n),Mt(H,o,g,s,n,l,e,!1)!==!1)return z(),o.insertBefore(g,X),W=o,A(),L(!0)}else if(n.parentNode===o){l=Q(n);var ie=0,be,xe=g.parentNode!==o,ne=!vi(g.animated&&g.toRect||s,n.animated&&n.toRect||l,p),Be=p?"top":"left",J=En(n,"top","top")||En(g,"top","top"),Pe=J?J.scrollTop:void 0;et!==n&&(be=l[Be],gt=!1,kt=!ne&&r.invertSwap||xe),ie=Ti(e,n,l,p,ne?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,kt,et===n);var ge;if(ie!==0){var Ce=pe(g);do Ce-=ie,ge=W.children[Ce];while(ge&&(x(ge,"display")==="none"||ge===k))}if(ie===0||ge===n)return L(!1);et=n,pt=ie;var Te=n.nextElementSibling,fe=!1;fe=ie===1;var Le=Mt(H,o,g,s,n,l,e,fe);if(Le!==!1)return(Le===1||Le===-1)&&(fe=Le===1),Kt=!0,setTimeout(Ei,30),z(),fe&&!Te?o.appendChild(g):n.parentNode.insertBefore(g,fe?Te:n),J&&Tn(J,0,Pe-J.scrollTop),W=g.parentNode,be!==void 0&&!kt&&(At=Math.abs(be-Q(n)[Be])),A(),L(!0)}if(o.contains(g))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",qe),I(document,"mousemove",qe),I(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(de=pe(g),Oe=pe(g,n.draggable),ae("drop",this,{evt:e}),W=g&&g.parentNode,de=pe(g),Oe=pe(g,n.draggable),T.eventCanceled){this._nulling();return}Je=!1,kt=!1,gt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Jt(this.cloneId),Jt(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ct&&x(document.body,"user-select",""),x(g,"transform",""),e&&(ht&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),k&&k.parentNode&&k.parentNode.removeChild(k),(H===W||Z&&Z.lastPutMode!=="clone")&&j&&j.parentNode&&j.parentNode.removeChild(j),g&&(this.nativeDraggable&&I(g,"dragend",this),Zt(g),g.style["will-change"]="",ht&&!Je&&ue(g,Z?Z.options.ghostClass:this.options.ghostClass,!1),ue(g,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:W,newIndex:null,newDraggableIndex:null,originalEvent:e}),H!==W?(de>=0&&(oe({rootEl:W,name:"add",toEl:W,fromEl:H,originalEvent:e}),oe({sortable:this,name:"remove",toEl:W,originalEvent:e}),oe({rootEl:W,name:"sort",toEl:W,fromEl:H,originalEvent:e}),oe({sortable:this,name:"sort",toEl:W,originalEvent:e})),Z&&Z.save()):de!==Ze&&de>=0&&(oe({sortable:this,name:"update",toEl:W,originalEvent:e}),oe({sortable:this,name:"sort",toEl:W,originalEvent:e})),T.active&&((de==null||de===-1)&&(de=Ze,Oe=mt),oe({sortable:this,name:"end",toEl:W,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ae("nulling",this),H=g=W=k=Ne=j=xt=Re=ze=_e=ht=de=Oe=Ze=mt=et=pt=Z=Tt=T.dragged=T.ghost=T.clone=T.active=null,It.forEach(function(e){e.checked=!0}),It.length=Yt=Gt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),Si(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,s=0,l=n.length,a=this.options;s<l;s++)o=n[s],ve(o,a.draggable,this.el,!1)&&e.push(o.getAttribute(a.dataIdAttr)||Fi(o));return e},sort:function(e,o){var n={},s=this.el;this.toArray().forEach(function(l,a){var r=s.children[a];ve(r,this.options.draggable,s,!1)&&(n[l]=r)},this),o&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(s.removeChild(n[l]),s.appendChild(n[l]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return ve(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var s=ft.modifyOption(this,e,o);typeof s!="undefined"?n[e]=s:n[e]=o,e==="group"&&Vn(n)},destroy:function(){ae("destroy",this);var e=this.el;e[ce]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ft.splice(Ft.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Re){if(ae("hideClone",this),T.eventCanceled)return;x(j,"display","none"),this.options.removeCloneOnHide&&j.parentNode&&j.parentNode.removeChild(j),Re=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Re){if(ae("showClone",this),T.eventCanceled)return;g.parentNode==H&&!this.options.group.revertClone?H.insertBefore(j,g):Ne?H.insertBefore(j,Ne):H.appendChild(j),this.options.group.revertClone&&this.animate(g,j),x(j,"display",""),Re=!1}}};function Si(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Mt(t,e,o,n,s,l,a,r){var i,u=t[ce],d=u.options.onMove,c;return window.CustomEvent&&!De&&!ut?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=e,i.from=t,i.dragged=o,i.draggedRect=n,i.related=s||e,i.relatedRect=l||Q(e),i.willInsertAfter=r,i.originalEvent=a,t.dispatchEvent(i),d&&(c=d.call(u,i,a)),c}function Zt(t){t.draggable=!1}function Ei(){Kt=!1}function Di(t,e,o){var n=Q(Qe(o.el,0,o.options,!0)),s=10;return e?t.clientX<n.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-s||t.clientY<n.bottom&&t.clientX<n.left}function xi(t,e,o){var n=Q(jt(o.el,o.options.draggable)),s=10;return e?t.clientX>n.right+s||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+s}function Ti(t,e,o,n,s,l,a,r){var i=n?t.clientY:t.clientX,u=n?o.height:o.width,d=n?o.top:o.left,c=n?o.bottom:o.right,f=!1;if(!a){if(r&&At<u*s){if(!gt&&(pt===1?i>d+u*l/2:i<c-u*l/2)&&(gt=!0),gt)f=!0;else if(pt===1?i<d+At:i>c-At)return-pt}else if(i>d+u*(1-s)/2&&i<c-u*(1-s)/2)return Li(e)}return f=f||a,f&&(i<d+u*l/2||i>c-u*l/2)?i>d+u/2?1:-1:0}function Li(t){return pe(g)<pe(t)?1:-1}function Fi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function ki(t){It.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&It.push(n)}}function Rt(t){return setTimeout(t,0)}function Jt(t){return clearTimeout(t)}$t&&V(document,"touchmove",function(t){(T.active||Je)&&t.cancelable&&t.preventDefault()});T.utils={on:V,off:I,css:x,find:Sn,is:function(e,o){return!!ve(e,o,e,!1)},extend:fi,throttle:xn,closest:ve,toggleClass:ue,clone:Ln,index:pe,nextTick:Rt,cancelNextTick:Jt,detectDirection:$n,getChild:Qe};T.get=function(t){return t[ce]};T.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(T.utils=ye(ye({},T.utils),n.utils)),ft.mount(n)})};T.create=function(t,e){return new T(t,e)};T.version=li;var G=[],_t,en,tn=!1,nn,on,Ot,bt;function Ai(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):this.options.supportPointer?V(document,"pointermove",this._handleFallbackAutoScroll):n.touches?V(document,"touchmove",this._handleFallbackAutoScroll):V(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),On(),Bt(),mi()},nulling:function(){Ot=en=_t=tn=bt=nn=on=null,G.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var s=this,l=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,r=document.elementFromPoint(l,a);if(Ot=o,n||this.options.forceAutoScrollFallback||ut||De||ct){sn(o,this.options,r,n);var i=Me(r,!0);tn&&(!bt||l!==nn||a!==on)&&(bt&&On(),bt=setInterval(function(){var u=Me(document.elementFromPoint(l,a),!0);u!==i&&(i=u,Bt()),sn(o,s.options,u,n)},10),nn=l,on=a)}else{if(!this.options.bubbleScroll||Me(r,!0)===we()){Bt();return}sn(o,this.options,Me(r,!1),!1)}}},Se(t,{pluginName:"scroll",initializeByDefault:!0})}function Bt(){G.forEach(function(t){clearInterval(t.pid)}),G=[]}function On(){clearInterval(bt)}var sn=xn(function(t,e,o,n){if(!!e.scroll){var s=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,r=e.scrollSpeed,i=we(),u=!1,d;en!==o&&(en=o,Bt(),_t=e.scroll,d=e.scrollFn,_t===!0&&(_t=Me(o,!0)));var c=0,f=_t;do{var p=f,_=Q(p),E=_.top,B=_.bottom,z=_.left,L=_.right,A=_.width,P=_.height,X=void 0,ie=void 0,be=p.scrollWidth,xe=p.scrollHeight,ne=x(p),Be=p.scrollLeft,J=p.scrollTop;p===i?(X=A<be&&(ne.overflowX==="auto"||ne.overflowX==="scroll"||ne.overflowX==="visible"),ie=P<xe&&(ne.overflowY==="auto"||ne.overflowY==="scroll"||ne.overflowY==="visible")):(X=A<be&&(ne.overflowX==="auto"||ne.overflowX==="scroll"),ie=P<xe&&(ne.overflowY==="auto"||ne.overflowY==="scroll"));var Pe=X&&(Math.abs(L-s)<=a&&Be+A<be)-(Math.abs(z-s)<=a&&!!Be),ge=ie&&(Math.abs(B-l)<=a&&J+P<xe)-(Math.abs(E-l)<=a&&!!J);if(!G[c])for(var Ce=0;Ce<=c;Ce++)G[Ce]||(G[Ce]={});(G[c].vx!=Pe||G[c].vy!=ge||G[c].el!==p)&&(G[c].el=p,G[c].vx=Pe,G[c].vy=ge,clearInterval(G[c].pid),(Pe!=0||ge!=0)&&(u=!0,G[c].pid=setInterval(function(){n&&this.layer===0&&T.active._onTouchMove(Ot);var Te=G[this.layer].vy?G[this.layer].vy*r:0,fe=G[this.layer].vx?G[this.layer].vx*r:0;typeof d=="function"&&d.call(T.dragged.parentNode[ce],fe,Te,t,Ot,G[this.layer].el)!=="continue"||Tn(G[this.layer].el,fe,Te)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&f!==i&&(f=Me(f,!1)));tn=u}},30),Bn=function(e){var o=e.originalEvent,n=e.putSortable,s=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(!!o){var u=n||l;r();var d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,c=document.elementFromPoint(d.clientX,d.clientY);i(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function an(){}an.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Qe(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(o,s):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Bn};Se(an,{pluginName:"revertOnSpill"});function rn(){}rn.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),s.animateAll()},drop:Bn};Se(rn,{pluginName:"removeOnSpill"});T.mount(new Ai);T.mount(rn,an);const Ii=Xe({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(t,{emit:e}){const o=re({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"\u5237\u65B0",affix:!1,icon:"el-icon-refresh-right"},{contextMenuClickId:1,txt:"\u5173\u95ED",affix:!1,icon:"el-icon-close"},{contextMenuClickId:2,txt:"\u5173\u95ED\u5176\u5B83",affix:!1,icon:"el-icon-circle-close"},{contextMenuClickId:3,txt:"\u5168\u90E8\u5173\u95ED",affix:!1,icon:"el-icon-folder-delete"},{contextMenuClickId:4,txt:"\u5F53\u524D\u9875\u5168\u5C4F",affix:!1,icon:"iconfont icon-fullscreen"}],item:{}}),n=$(()=>t.dropdown),s=r=>{e("currentContextmenuClick",Object.assign({},{contextMenuClickId:r},o.item))},l=r=>{o.item=r,r.meta.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,a(),setTimeout(()=>{o.isShow=!0},10)},a=()=>{o.isShow=!1};return $e(()=>{document.body.addEventListener("click",a)}),rt(()=>{document.body.removeEventListener("click",a)}),O({dropdowns:n,openContextmenu:l,closeContextmenu:a,onCurrentContextmenuClick:s},le(o))}}),$i=t=>(tt("data-v-5a907424"),t=t(),nt(),t),Vi={class:"el-dropdown-menu"},Mi=["onClick"],Ri=$i(()=>w("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function Oi(t,e,o,n,s,l){return b(),M(mn,{name:"el-zoom-in-center"},{default:S(()=>[it((b(),F("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:Ct(`top: ${t.dropdowns.y+5}px;left: ${t.dropdowns.x}px;`),key:Math.random()},[w("ul",Vi,[(b(!0),F(se,null,ke(t.dropdownList,(a,r)=>(b(),F(se,null,[a.affix?Y("",!0):(b(),F("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:r,onClick:i=>t.onCurrentContextmenuClick(a.contextMenuClickId)},[w("i",{class:R(a.icon)},null,2),w("span",null,U(a.txt),1)],8,Mi))],64))),256))]),Ri],4)),[[st,t.isShow]])]),_:1})}var Bi=q(Ii,[["render",Oi],["__scopeId","data-v-5a907424"]]);const Pi={name:"layoutTagsView",components:{Contextmenu:Bi},setup(){const{proxy:t}=he(),e=Ve([]),o=Ve(),n=Ve(),s=Ve(),l=K(),a=Ae(),r=at(),i=re({routeActive:"",routePath:a.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),u=$(()=>l.state.themeConfig.themeConfig.tagsStyle),d=$(()=>l.state.themeConfig.themeConfig),c=h=>d.value.isShareTagsView?h.path===i.routePath:h.url?h.url===i.routeActive:h.path===i.routeActive,f=h=>{je.set("tagsViewList",h)},p=async()=>{i.routeActive=await J(a),i.routePath=await a.meta.isDynamic?a.meta.isDynamicPath:a.path,i.tagsViewList=[],i.tagsViewRoutesList=l.state.tagsViewRoutes.tagsViewRoutes,_()},_=async()=>{je.get("tagsViewList")&&d.value.isCacheTagsView?i.tagsViewList=await je.get("tagsViewList"):(await i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(h.url=J(h),i.tagsViewList.push(O({},h)))}),await z(a.path,a)),Te(d.value.isShareTagsView?i.routePath:i.routeActive)},E=async(h,m)=>{let D=m.meta.isDynamic?m.meta.isDynamicPath:h;if(i.tagsViewList.filter(N=>N.path===D&&zt(m.meta.isDynamic?N.params?N.params:null:N.query?N.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)).length<=0){let N=i.tagsViewRoutesList.find(me=>me.path===D);if(N.meta.isAffix||N.meta.isLink&&!N.meta.isIframe)return!1;m.meta.isDynamic?N.params=m.params:N.query=m.query,N.url=J(N),i.tagsViewList.push(O({},N)),f(i.tagsViewList)}},B=(h,m)=>{let D=m.meta.isDynamic?m.meta.isDynamicPath:h;i.tagsViewList.forEach(v=>{v.path===D&&!zt(m.meta.isDynamic?v.params?v.params:null:v.query?v.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)&&(m.meta.isDynamic?v.params=m.params:v.query=m.query,v.url=J(v),f(i.tagsViewList))})},z=(h,m)=>{Ye(async()=>{let D="";if(m&&m.meta.isDynamic){if(d.value.isShareTagsView?await B(h,m):await E(h,m),i.tagsViewList.some(v=>v.path===m.meta.isDynamicPath))return!1;D=i.tagsViewRoutesList.find(v=>v.path===m.meta.isDynamicPath)}else{if(d.value.isShareTagsView?await B(h,m):await E(h,m),i.tagsViewList.some(v=>v.path===h))return!1;D=i.tagsViewRoutesList.find(v=>v.path===h)}if(D.meta.isLink&&!D.meta.isIframe)return!1;m&&m.meta.isDynamic?D.params=(m==null?void 0:m.params)?m==null?void 0:m.params:a.params:D.query=(m==null?void 0:m.query)?m==null?void 0:m.query:a.query,D.url=J(D),await i.tagsViewList.push(O({},D)),await f(i.tagsViewList)})},L=h=>{t.mittBus.emit("onTagsViewRefreshRouterView",h)},A=h=>{i.tagsViewList.map((m,D,v)=>{m.meta.isAffix||(d.value.isShareTagsView?m.path===h:m.url===h)&&(i.tagsViewList.splice(D,1),setTimeout(()=>{(i.tagsViewList.length===D&&d.value.isShareTagsView?i.routePath===h:i.routeActive===h)?v[v.length-1].meta.isDynamic?D!==v.length?r.push({name:v[D].name,params:v[D].params}):r.push({name:v[v.length-1].name,params:v[v.length-1].params}):D!==v.length?r.push({path:v[D].path,query:v[D].query}):r.push({path:v[v.length-1].path,query:v[v.length-1].query}):(i.tagsViewList.length!==D&&d.value.isShareTagsView?i.routePath===h:i.routeActive===h)&&(v[D].meta.isDynamic?r.push({name:v[D].name,params:v[D].params}):r.push({path:v[D].path,query:v[D].query}))},0))}),f(i.tagsViewList)},P=h=>{i.tagsViewList=[],i.tagsViewRoutesList.map(m=>{m.meta.isAffix&&!m.meta.isHide&&i.tagsViewList.push(O({},m))}),z(h,a)},X=()=>{i.tagsViewList=[],i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(i.tagsViewList.push(O({},h)),r.push({path:i.tagsViewList[i.tagsViewList.length-1].path}))}),f(i.tagsViewList)},ie=async h=>{const m=i.tagsViewList.find(D=>d.value.isShareTagsView?D.path===h:D.url===h);m.meta.isDynamic?await r.push({name:m.name,params:m.params}):await r.push({name:m.name,query:m.query}),l.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},be=(h,m)=>(je.get("tagsViewList")?je.get("tagsViewList"):i.tagsViewList).find(v=>{if(v.path===h&&zt(v.meta.isDynamic?v.params?v.params:null:v.query?v.query:null,m&&Object.keys(m||{}).length>0?m:null))return v;if(v.path===h&&Object.keys(m||{}).length<=0)return v}),xe=async h=>{const m=h.meta.isDynamic?h.params:h.query;if(!be(h.path,m))return qt({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:D,name:v,params:N,query:me,meta:yt,url:We}=be(h.path,m);switch(h.contextMenuClickId){case 0:yt.isDynamic?await r.push({name:v,params:N}):await r.push({path:D,query:me}),L(a.fullPath);break;case 1:A(d.value.isShareTagsView?D:We);break;case 2:yt.isDynamic?await r.push({name:v,params:N}):await r.push({path:D,query:me}),P(D);break;case 3:X();break;case 4:ie(d.value.isShareTagsView?D:We);break}},ne=(h,m)=>{const{clientX:D,clientY:v}=m;i.dropdown.x=D,i.dropdown.y=v,n.value.openContextmenu(h)},Be=(h,m)=>{i.tagsRefsIndex=m,r.push(h)},J=h=>{let m=h.query&&Object.keys(h.query).length>0?h.query:h.params;if(!m||Object.keys(m).length<=0)return h.path;let D="";for(let v in m)D+=m[v];return`${h.meta.isDynamic?h.meta.isDynamicPath:h.path}-${D}`},Pe=()=>{t.$refs.scrollbarRef.update()},ge=h=>{t.$refs.scrollbarRef.$refs.wrap.scrollLeft+=h.wheelDelta/4},Ce=()=>{Ye(()=>{if(e.value.length<=0)return!1;let h=e.value[i.tagsRefsIndex],m=i.tagsRefsIndex,D=e.value.length,v=e.value[0],N=e.value[e.value.length-1],me=t.$refs.scrollbarRef.$refs.wrap,yt=me.scrollWidth,We=me.offsetWidth,ln=me.scrollLeft,Nt=e.value[i.tagsRefsIndex-1],un=e.value[i.tagsRefsIndex+1],vt="",wt="";h===v?me.scrollLeft=0:h===N?me.scrollLeft=yt-We:(m===0?vt=v.offsetLeft-5:vt=(Nt==null?void 0:Nt.offsetLeft)-5,m===D?wt=N.offsetLeft+N.offsetWidth+5:wt=un.offsetLeft+un.offsetWidth+5,wt>ln+We?me.scrollLeft=wt-We:vt<ln&&(me.scrollLeft=vt)),Pe()})},Te=h=>{Ye(async()=>{let m=await i.tagsViewList;i.tagsRefsIndex=m.findIndex(D=>d.value.isShareTagsView?D.path===h:D.url===h),Ce()})},fe=()=>{const h=document.querySelector(".layout-navbars-tagsview-ul");if(!h)return!1;i.sortable&&i.sortable.destroy(),i.sortable=T.create(h,{animation:300,dataIdAttr:"data-name",disabled:!d.value.isSortableTagsView,onEnd:()=>{const m=[];i.sortable.toArray().map(D=>{i.tagsViewList.map(v=>{v.name===D&&m.push(O({},v))})}),f(m)}})},Le=()=>{document.body.clientWidth<1e3?d.value.isSortableTagsView=!1:d.value.isSortableTagsView=!0,fe()};return ot(()=>{Le(),window.addEventListener("resize",Le),t.mittBus.on("onCurrentContextmenuClick",h=>{xe(h)}),t.mittBus.on("openOrCloseSortable",()=>{fe()}),t.mittBus.on("openShareTagsView",()=>{d.value.isShareTagsView&&(r.push("/home"),i.tagsViewList=[],i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(h.url=J(h),i.tagsViewList.push(O({},h)))}))})}),rt(()=>{t.mittBus.off("onCurrentContextmenuClick"),t.mittBus.off("openOrCloseSortable"),t.mittBus.off("openShareTagsView"),window.removeEventListener("resize",Le)}),Xn(()=>{e.value=[]}),$e(()=>{p(),fe()}),Ue(async h=>{i.routeActive=J(h),i.routePath=h.meta.isDynamic?h.meta.isDynamicPath:h.path,await z(h.path,h),Te(d.value.isShareTagsView?i.routePath:i.routeActive)}),Ie(l.state,h=>{if(h.tagsViewRoutes.tagsViewRoutes.length===i.tagsViewRoutesList.length)return!1;p()}),O({isActive:c,onContextmenu:ne,getTagsViewRoutes:p,onTagsClick:Be,tagsRefs:e,contextmenuRef:n,scrollbarRef:o,tagsUlRef:s,onHandleScroll:ge,getThemeConfig:d,setTagsStyle:u,refreshCurrentTagsView:L,closeCurrentTagsView:A,onCurrentContextmenuClick:xe},le(i))}},Hi=["data-name","onContextmenu","onClick"],Ni={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"},zi=["onClick"],qi=["onClick"];function Wi(t,e,o,n,s,l){const a=y("el-scrollbar"),r=y("Contextmenu");return b(),F("div",{class:R(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":n.getThemeConfig.layout==="classic"}])},[C(a,{ref:"scrollbarRef",onWheel:He(n.onHandleScroll,["prevent"])},{default:S(()=>[w("ul",{class:R(["layout-navbars-tagsview-ul",n.setTagsStyle]),ref:"tagsUlRef"},[(b(!0),F(se,null,ke(t.tagsViewList,(i,u)=>(b(),F("li",{key:u,class:R(["layout-navbars-tagsview-ul-li",{"is-active":n.isActive(i)}]),"data-name":i.name,onContextmenu:He(d=>n.onContextmenu(i,d),["prevent"]),onClick:d=>n.onTagsClick(i,u),ref:d=>{d&&(n.tagsRefs[u]=d)}},[n.isActive(i)?(b(),F("i",Ni)):Y("",!0),!n.isActive(i)&&n.getThemeConfig.isTagsviewIcon?(b(),F("i",{key:1,class:R(["layout-navbars-tagsview-ul-li-iconfont",i.meta.icon])},null,2)):Y("",!0),w("span",null,U(i.meta.title),1),n.isActive(i)?(b(),F(se,{key:2},[w("i",{class:"el-icon-refresh-right ml5",onClick:e[0]||(e[0]=He(d=>n.refreshCurrentTagsView(t.$route.fullPath),["stop"]))}),i.meta.isAffix?Y("",!0):(b(),F("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:He(d=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?i.path:i.url),["stop"])},null,8,zi))],64)):Y("",!0),i.meta.isAffix?Y("",!0):(b(),F("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:He(d=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?i.path:i.url),["stop"])},null,8,qi))],42,Hi))),128))],2)]),_:1},8,["onWheel"]),C(r,{dropdown:t.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:n.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var Pn=q(Pi,[["render",Wi],["__scopeId","data-v-2447360f"]]);const ji={name:"layoutNavBars",components:{BreadcrumbIndex:ii,TagsView:Pn},setup(){const t=K();return{setShowTagsView:$(()=>{let{layout:o,isTagsview:n}=t.state.themeConfig.themeConfig;return o!=="classic"&&n})}}},Xi={class:"layout-navbars-container"};function Ui(t,e,o,n,s,l){const a=y("BreadcrumbIndex"),r=y("TagsView");return b(),F("div",Xi,[C(a),n.setShowTagsView?(b(),M(r,{key:0})):Y("",!0)])}var Yi=q(ji,[["render",Ui],["__scopeId","data-v-4d355550"]]);const Gi={name:"layoutHeader",components:{NavBarsIndex:Yi},setup(){const t=K(),e=$(()=>{let{isTagsview:n,layout:s}=t.state.themeConfig.themeConfig;return n&&s!=="classic"?"84px":"50px"}),o=$(()=>t.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:e,isTagsViewCurrenFull:o}}};function Qi(t,e,o,n,s,l){const a=y("NavBarsIndex"),r=y("el-header");return it((b(),M(r,{class:"layout-header",height:n.setHeaderHeight},{default:S(()=>[C(a)]),_:1},8,["height"])),[[st,!n.isTagsViewCurrenFull]])}var Pt=q(Gi,[["render",Qi]]);const Ki={name:"layoutFooter",setup(){const t=re({isDelayFooter:!0});return Ue(()=>{t.isDelayFooter=!1,setTimeout(()=>{t.isDelayFooter=!0},800)}),O({},le(t))}},Zi=t=>(tt("data-v-4d20c0e5"),t=t(),nt(),t),Ji={class:"layout-footer mt15"},es=Zi(()=>w("div",{class:"layout-footer-warp"},[w("div",null,"vue-next-admin\uFF0CMade by lyt with \u2764\uFE0F"),w("div",{class:"mt5"},"\u7248\u6743\u6240\u6709\uFF1A\u6DF1\u5733\u5E02xxx\u8F6F\u4EF6\u79D1\u6280\u6709\u9650\u516C\u53F8")],-1)),ts=[es];function ns(t,e,o,n,s,l){return it((b(),F("div",Ji,ts,512)),[[st,t.isDelayFooter]])}var os=q(Ki,[["render",ns],["__scopeId","data-v-4d20c0e5"]]);const is=Xe({name:"layoutMain",components:{LayoutParentView:Un,Footer:os},setup(){const{proxy:t}=he(),e=Ae(),o=K(),n=re({headerHeight:"",currentRouteMeta:{}}),s=$(()=>o.state.themeConfig.themeConfig),l=()=>{let{isTagsview:r}=o.state.themeConfig.themeConfig;return r?n.headerHeight="84px":n.headerHeight="50px"},a=()=>{n.currentRouteMeta=e.meta};return ot(()=>{l(),a()}),Ie(o.state.themeConfig.themeConfig,r=>{if(n.headerHeight=r.isTagsview?"84px":"50px",r.isFixedHeaderChange!==r.isFixedHeader){if(!t.$refs.layoutScrollbarRef)return!1;t.$refs.layoutScrollbarRef.update()}}),Ie(()=>e.path,()=>{n.currentRouteMeta=e.meta}),O({getThemeConfig:s},le(n))}});function ss(t,e,o,n,s,l){const a=y("LayoutParentView"),r=y("Footer"),i=y("el-scrollbar"),u=y("el-main");return b(),M(u,{class:"layout-main"},{default:S(()=>[C(i,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:Ct({minHeight:`calc(100vh - ${t.headerHeight})`,padding:t.currentRouteMeta.isLink&&t.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:S(()=>[C(a),t.getThemeConfig.isFooter?(b(),M(r,{key:0})):Y("",!0)]),_:1},8,["style"])]),_:1})}var Ht=q(is,[["render",ss]]);const as={name:"layoutDefaults",components:{Aside:Wt,Header:Pt,Main:Ht},setup(){const{proxy:t}=he(),e=K(),o=Ae(),n=$(()=>e.state.themeConfig.themeConfig.isFixedHeader);return Ie(()=>o.path,()=>{t.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:n}}};function rs(t,e,o,n,s,l){const a=y("Aside"),r=y("Header"),i=y("Main"),u=y("el-scrollbar"),d=y("el-container"),c=y("el-backtop");return b(),M(d,{class:"layout-container"},{default:S(()=>[C(a),C(d,{class:R(["flex-center",{"layout-backtop":!n.isFixedHeader}])},{default:S(()=>[n.isFixedHeader?(b(),M(r,{key:0})):Y("",!0),C(u,{ref:"layoutDefaultsScrollbarRef",class:R({"layout-backtop":n.isFixedHeader})},{default:S(()=>[n.isFixedHeader?Y("",!0):(b(),M(r,{key:0})),C(i)]),_:1},8,["class"])]),_:1},8,["class"]),C(c,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var ls=q(as,[["render",rs]]);const us={name:"layoutClassic",components:{Aside:Wt,Header:Pt,Main:Ht,TagsView:Pn},setup(){const t=K();return{getThemeConfig:$(()=>t.state.themeConfig.themeConfig)}}},cs={class:"flex-center layout-backtop"};function ds(t,e,o,n,s,l){const a=y("Header"),r=y("Aside"),i=y("TagsView"),u=y("Main"),d=y("el-container"),c=y("el-backtop");return b(),M(d,{class:"layout-container flex-center"},{default:S(()=>[C(a),C(d,{class:"layout-mian-height-50"},{default:S(()=>[C(r),w("div",cs,[n.getThemeConfig.isTagsview?(b(),M(i,{key:0})):Y("",!0),C(u)])]),_:1}),C(c,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var fs=q(us,[["render",ds]]);const ms={name:"layoutTransverse",components:{Header:Pt,Main:Ht}};function hs(t,e,o,n,s,l){const a=y("Header"),r=y("Main"),i=y("el-backtop"),u=y("el-container");return b(),M(u,{class:"layout-container flex-center layout-backtop"},{default:S(()=>[C(a),C(r),C(i,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var ps=q(ms,[["render",hs]]);const gs={name:"layoutColumnsAside",setup(){const t=Ve([]),e=Ve(),{proxy:o}=he(),n=K(),s=Ae(),l=at(),a=re({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),r=$(()=>n.state.themeConfig.themeConfig.columnsAsideStyle),i=$(()=>n.state.themeConfig.themeConfig.columnsAsideLayout),u=L=>{a.liIndex=L,e.value.style.top=`${t.value[L].offsetTop+a.difference}px`},d=(L,A)=>{u(A);let{path:P,redirect:X}=L;X?l.push(X):l.push(P)},c=(L,A)=>{let{path:P}=L;a.liOldPath=P,a.liOldIndex=A,a.liHoverIndex=A,o.mittBus.emit("setSendColumnsChildren",E(P)),n.dispatch("routesList/setColumnsMenuHover",!1),n.dispatch("routesList/setColumnsNavHover",!0),a.isNavHover=!0},f=async()=>{await n.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:L,isColumnsNavHover:A}=n.state.routesList;!L&&!A&&o.mittBus.emit("restoreDefault")},100)},p=L=>{Ye(()=>{u(L)})},_=()=>{a.columnsAsideList=B(n.state.routesList.routesList);const L=E(s.path);if(Object.keys(L).length<=0)return!1;p(L.item[0].k),o.mittBus.emit("setSendColumnsChildren",L)},E=L=>{const A=L.split("/");let P={};return a.columnsAsideList.map((X,ie)=>{X.path===`/${A[1]}`&&(X.k=ie,P.item=[O({},X)],P.children=[O({},X)],X.children&&(P.children=X.children))}),P},B=L=>L.filter(A=>!A.meta.isHide).map(A=>(A=Object.assign({},A),A.children&&(A.children=B(A.children)),A)),z=L=>{a.routeSplit=L.split("/"),a.routeSplit.shift();const A=`/${a.routeSplit[0]}`,P=a.columnsAsideList.find(X=>X.path===A);if(!P)return!1;setTimeout(()=>{p(P.k)},0)};return Ie(n.state,L=>{if(L.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?a.difference=3:a.difference=0,!L.routesList.isColumnsMenuHover&&!L.routesList.isColumnsNavHover)a.liHoverIndex=null,o.mittBus.emit("setSendColumnsChildren",E(s.path));else{if(a.liHoverIndex=a.liOldIndex,!a.liOldPath)return!1;o.mittBus.emit("setSendColumnsChildren",E(a.liOldPath))}}),$e(()=>{_(),o.mittBus.on("restoreDefault",()=>{a.liOldIndex=null,a.liOldPath=null})}),rt(()=>{o.mittBus.off("restoreDefault",()=>{})}),Ue(L=>{z(L.path),o.mittBus.emit("setSendColumnsChildren",E(L.path))}),O({columnsAsideOffsetTopRefs:t,columnsAsideActiveRef:e,onColumnsAsideDown:p,setColumnsAsideStyle:r,setColumnsAsidelayout:i,onColumnsAsideMenuClick:d,onColumnsAsideMenuMouseenter:c,onColumnsAsideMenuMouseleave:f},le(a))}},_s={class:"layout-columns-aside"},bs=["onClick","onMouseenter","title"],ys={class:"columns-vertical-title font12"},vs=["href"],ws={class:"columns-vertical-title font12"};function Cs(t,e,o,n,s,l){const a=y("el-scrollbar");return b(),F("div",_s,[C(a,null,{default:S(()=>[w("ul",{onMouseleave:e[0]||(e[0]=r=>n.onColumnsAsideMenuMouseleave())},[(b(!0),F(se,null,ke(t.columnsAsideList,(r,i)=>(b(),F("li",{key:i,onClick:u=>n.onColumnsAsideMenuClick(r,i),onMouseenter:u=>n.onColumnsAsideMenuMouseenter(r,i),ref:u=>{u&&(n.columnsAsideOffsetTopRefs[i]=u)},class:R({"layout-columns-active":t.liIndex===i,"layout-columns-hover":t.liHoverIndex===i}),title:r.meta.title},[!r.meta.isLink||r.meta.isLink&&r.meta.isIframe?(b(),F("div",{key:0,class:R(n.setColumnsAsidelayout)},[w("i",{class:R(r.meta.icon)},null,2),w("div",ys,U(r.meta.title&&r.meta.title.length>=4?r.meta.title.substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):r.meta.title),1)],2)):(b(),F("div",{key:1,class:R(n.setColumnsAsidelayout)},[w("a",{href:r.meta.isLink,target:"_blank"},[w("i",{class:R(r.meta.icon)},null,2),w("div",ws,U(r.meta.title&&r.meta.title.length>=4?r.meta.title.substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):r.meta.title),1)],8,vs)],2))],42,bs))),128)),w("div",{ref:"columnsAsideActiveRef",class:R(n.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var Ss=q(gs,[["render",Cs],["__scopeId","data-v-3edd8126"]]);const Es={name:"layoutColumns",components:{Aside:Wt,Header:Pt,Main:Ht,ColumnsAside:Ss},setup(){const t=K();return{isFixedHeader:$(()=>t.state.themeConfig.themeConfig.isFixedHeader)}}},Ds={class:"layout-columns-warp"};function xs(t,e,o,n,s,l){const a=y("ColumnsAside"),r=y("Aside"),i=y("Header"),u=y("Main"),d=y("el-scrollbar"),c=y("el-container"),f=y("el-backtop");return b(),M(c,{class:"layout-container"},{default:S(()=>[C(a),w("div",Ds,[C(r),C(c,{class:R(["flex-center layout-backtop",{"layout-backtop":!n.isFixedHeader}])},{default:S(()=>[n.isFixedHeader?(b(),M(i,{key:0})):Y("",!0),C(d,{class:R({"layout-backtop":n.isFixedHeader})},{default:S(()=>[n.isFixedHeader?Y("",!0):(b(),M(i,{key:0})),C(u)]),_:1},8,["class"])]),_:1},8,["class"])]),C(f,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Ts=q(Es,[["render",xs]]);const Ls={name:"layout",components:{Defaults:ls,Classic:fs,Transverse:ps,Columns:Ts},setup(){const{proxy:t}=he(),e=K(),o=$(()=>e.state.themeConfig.themeConfig),n=()=>{Fe.get("oldLayout")||Fe.set("oldLayout",o.value.layout);const s=document.body.clientWidth;s<1e3?(o.value.isCollapse=!1,t.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:s})):t.mittBus.emit("layoutMobileResize",{layout:Fe.get("oldLayout")?Fe.get("oldLayout"):o.value.layout,clientWidth:s})};return ot(()=>{n(),window.addEventListener("resize",n)}),rt(()=>{window.removeEventListener("resize",n)}),{getThemeConfig:o}}};function Fs(t,e,o,n,s,l){const a=y("Defaults"),r=y("Classic"),i=y("Transverse"),u=y("Columns");return n.getThemeConfig.layout==="defaults"?(b(),M(a,{key:0})):n.getThemeConfig.layout==="classic"?(b(),M(r,{key:1})):n.getThemeConfig.layout==="transverse"?(b(),M(i,{key:2})):n.getThemeConfig.layout==="columns"?(b(),M(u,{key:3})):Y("",!0)}var Vs=q(Ls,[["render",Fs]]);export{Vs as default};
