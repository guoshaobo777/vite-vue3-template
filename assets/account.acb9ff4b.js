var I=Object.defineProperty;var F=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var w=(e,t,o)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,b=(e,t)=>{for(var o in t||(t={}))k.call(t,o)&&w(e,o,t[o]);if(F)for(var o of F(t))B.call(t,o)&&w(e,o,t[o]);return e};import{f as v,H as A,U as V,g as N,D as P,t as x,i as c,K as L,x as a,b as E,A as R,s as n,k as f,l as q,C as D,y as $,z as j}from"./vendor.6b444bb6.js";import{_ as U,u as H,f as T,S as y,a as K,b as z}from"./index.a0893edb.js";const G=v({name:"login",setup(){const{proxy:e}=D(),t=H(),o=A(),g=V(),i=N({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),_=P(()=>T(new Date)),p=async()=>{i.loading.signIn=!0;let u=[],l=[],d=["admin"],m=["btn.add","btn.del","btn.edit","btn.link"],s=["test"],S=["btn.add","btn.link"];i.ruleForm.userName==="admin"?(u=d,l=m):(u=s,l=S);const h={userName:i.ruleForm.userName,photo:i.ruleForm.userName==="admin"?"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1813762643,1914315241&fm=26&gp=0.jpg":"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=317673774,2961727727&fm=26&gp=0.jpg",time:new Date().getTime(),authPageList:u,authBtnList:l};y.set("token",Math.random().toString(36).substr(0)),y.set("userInfo",h),t.dispatch("userInfos/setUserInfos",h),t.state.themeConfig.themeConfig.isRequestRoutes?(await z(),r()):(await K(),r())},r=()=>{var l,d,m,s;let u=_.value;((l=o.query)==null?void 0:l.redirect)?g.push({path:(d=o.query)==null?void 0:d.redirect,query:Object.keys((m=o.query)==null?void 0:m.params).length>0?JSON.parse((s=o.query)==null?void 0:s.params):""}):g.push("/"),setTimeout(()=>{i.loading.signIn=!0,E.success(`${u}\uFF0C\u6B22\u8FCE\u56DE\u6765\uFF01`),e.mittBus.emit("onSignInClick")},300)};return b({currentTime:_,onSignIn:p},x(i))}}),C=e=>($("data-v-04d0c1da"),e=e(),j(),e),M=C(()=>f("div",{class:"login-content-code"},[f("span",{class:"login-content-code-img"},"1234")],-1)),O=C(()=>f("span",null,"\u767B \u5F55",-1));function Q(e,t,o,g,i,_){const p=c("el-input"),r=c("el-form-item"),u=c("el-col"),l=c("el-row"),d=c("el-button"),m=c("el-form");return R(),L(m,{class:"login-content-form"},{default:a(()=>[n(r,null,{default:a(()=>[n(p,{type:"text",placeholder:"\u7528\u6237\u540D admin \u6216\u4E0D\u8F93\u5747\u4E3A test","prefix-icon":"el-icon-user",modelValue:e.ruleForm.userName,"onUpdate:modelValue":t[0]||(t[0]=s=>e.ruleForm.userName=s),clearable:"",autocomplete:"off"},null,8,["modelValue"])]),_:1}),n(r,null,{default:a(()=>[n(p,{type:e.isShowPassword?"text":"password",placeholder:"\u5BC6\u7801\uFF1A123456","prefix-icon":"el-icon-lock",modelValue:e.ruleForm.password,"onUpdate:modelValue":t[2]||(t[2]=s=>e.ruleForm.password=s),autocomplete:"off"},{suffix:a(()=>[f("i",{class:q(["iconfont el-input__icon login-content-password",e.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:t[1]||(t[1]=s=>e.isShowPassword=!e.isShowPassword)},null,2)]),_:1},8,["type","modelValue"])]),_:1}),n(r,null,{default:a(()=>[n(l,{gutter:15},{default:a(()=>[n(u,{span:16},{default:a(()=>[n(p,{type:"text",maxlength:"4",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801","prefix-icon":"el-icon-position",modelValue:e.ruleForm.code,"onUpdate:modelValue":t[3]||(t[3]=s=>e.ruleForm.code=s),clearable:"",autocomplete:"off"},null,8,["modelValue"])]),_:1}),n(u,{span:8},{default:a(()=>[M]),_:1})]),_:1})]),_:1}),n(r,null,{default:a(()=>[n(d,{type:"primary",class:"login-content-submit",round:"",onClick:e.onSignIn,loading:e.loading.signIn},{default:a(()=>[O]),_:1},8,["onClick","loading"])]),_:1})]),_:1})}var X=U(G,[["render",Q],["__scopeId","data-v-04d0c1da"]]);export{X as default};
